<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deepfake Detector</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π CSS -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <div class="main-content">
            <h1>Deepfake Detector</h1>

            <div class="upload-section">
                <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–ø–æ—Å–æ–±–∞ –∑–∞–≥—Ä—É–∑–∫–∏ -->
                <div class="upload-method-selector">
                    <button type="button" class="upload-method-btn active" data-method="file">üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞</button>
                    <button type="button" class="upload-method-btn" data-method="url">üîó –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ URL</button>
                </div>

                <!-- –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ -->
                <form id="uploadForm" enctype="multipart/form-data" class="upload-form active">
                    <div class="mb-3">
                        <!-- –°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –º–µ—Ç–∫–∞ -->
                        <label class="file-label" for="file">–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –≤–∏–¥–µ–æ:</label>
                        <!-- –û–±–ª–∞—Å—Ç—å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è -->
                        <div class="drop-zone">
                            <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ</p>
                            <div class="file-input-wrapper">
                                –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª
                                <input type="file" id="file" name="file" accept="image/*,video/*" required>
                            </div>
                        </div>
                        <div id="fileInfo" class="file-info">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</div>
                        <!-- –ü—Ä–µ–≤—å—é —Ñ–∞–π–ª–∞ -->
                        <div id="filePreview" class="file-preview" style="display: none;">
                            <img id="previewImage" src="" alt="–ü—Ä–µ–≤—å—é" style="display: none;">
                            <video id="previewVideo" src="" controls style="display: none;"></video>
                            <button type="button" id="clearPreview" class="clear-preview-btn">‚úï</button>
                        </div>
                    </div>

                    <div class="file-type-selector">
                        <label>
                            <input type="radio" name="file_type" value="image" checked> –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                        </label>
                        <label>
                            <input type="radio" name="file_type" value="video"> –í–∏–¥–µ–æ
                        </label>
                    </div>

                    <!-- –ü–æ–ª–∑—É–Ω–æ–∫ –ø–æ—Ä–æ–≥–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ -->
                    <div class="threshold-slider-wrapper">
                        <label for="threshold" class="threshold-slider-label">
                            –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏: <span id="thresholdValue" class="threshold-value">0.50</span>
                            <span class="threshold-help-icon" data-tooltip="–ü–æ—Ä–æ–≥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–µ—Ä–¥–∏–∫—Ç: –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã—à–µ –ø–æ—Ä–æ–≥–∞ = –û—Ä–∏–≥–∏–Ω–∞–ª, –Ω–∏–∂–µ = –î–∏–ø—Ñ–µ–π–∫">‚ÑπÔ∏è</span>
                        </label>
                        <input type="range" class="threshold-slider" min="0.3" max="0.7" step="0.05" value="0.5" id="threshold" name="threshold">
                    </div>

                    <!-- –ü–æ–ª–∑—É–Ω–æ–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–∞–¥—Ä–æ–≤ –∏ —Ä–µ–∂–∏–º —Å–∫–æ—Ä–æ—Å—Ç–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–¥–µ–æ) -->
                    <div id="framesSliderSection" class="frames-slider-wrapper" style="display: none;">
                        <label for="framesCount" class="frames-slider-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–¥—Ä–æ–≤ –¥–ª—è –≤—ã–≤–æ–¥–∞: <span id="framesCountValue" class="frames-count-value">15</span></label>
                        <input type="range" class="frames-slider" min="5" max="25" step="5" value="15" id="framesCount" name="frames_count">
                        
                        <div class="speed-mode-selector">
                            <label class="speed-mode-label speed-mode-fast" data-tooltip="–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞: –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π 5-–π –∫–∞–¥—Ä. –ë—ã—Å—Ç—Ä–µ–µ, –Ω–æ —á—É—Ç—å –º–µ–Ω–µ–µ —Ç–æ—á–Ω–æ.">
                                <input type="radio" name="speed_mode" value="fast" checked> ‚ö° –ë—ã—Å—Ç—Ä–æ
                            </label>
                            <label class="speed-mode-label speed-mode-precise" data-tooltip="–¢–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞: –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –∫–∞–¥—Ä–æ–≤. –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–∏–¥–µ–æ).">
                                <input type="radio" name="speed_mode" value="precise"> üéØ –¢–æ—á–Ω–æ
                            </label>
                        </div>
                    </div>

                    <button type="submit">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                </form>

                <!-- –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ URL -->
                <form id="uploadUrlForm" class="upload-form" style="display: none;">
                    <div class="mb-3">
                        <label class="file-label" for="fileUrl">–í–≤–µ–¥–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</label>
                        <div class="url-input-wrapper">
                            <input type="url" id="fileUrl" name="file_url" 
                                   placeholder="https://example.com/image.jpg" 
                                   class="url-input" required>
                            <button type="button" id="clearUrl" class="clear-url-btn" style="display: none;">‚úï</button>
                        </div>
                        <div id="urlInfo" class="file-info">URL –Ω–µ –≤–≤–µ–¥–µ–Ω</div>
                        <!-- –ü—Ä–µ–≤—å—é —Ñ–∞–π–ª–∞ –ø–æ URL -->
                        <div id="urlPreview" class="file-preview" style="display: none;">
                            <img id="urlPreviewImage" src="" alt="–ü—Ä–µ–≤—å—é" style="display: none;">
                            <button type="button" id="clearUrlPreview" class="clear-preview-btn">‚úï</button>
                        </div>
                    </div>

                    <!-- –ü–æ–ª–∑—É–Ω–æ–∫ –ø–æ—Ä–æ–≥–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ -->
                    <div class="threshold-slider-wrapper">
                        <label for="thresholdUrl" class="threshold-slider-label">
                            –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏: <span id="thresholdValueUrl" class="threshold-value">0.50</span>
                            <span class="threshold-help-icon" data-tooltip="–ü–æ—Ä–æ–≥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–µ—Ä–¥–∏–∫—Ç: –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã—à–µ –ø–æ—Ä–æ–≥–∞ = –û—Ä–∏–≥–∏–Ω–∞–ª, –Ω–∏–∂–µ = –î–∏–ø—Ñ–µ–π–∫">‚ÑπÔ∏è</span>
                        </label>
                        <input type="range" class="threshold-slider" min="0.3" max="0.7" step="0.05" value="0.5" id="thresholdUrl" name="threshold_url">
                    </div>

                    <button type="submit">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ URL</button>
                </form>
            </div>

            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
            <div class="info-panel">
                <div class="info-panel-header">
                    <span class="info-icon">‚ÑπÔ∏è</span>
                    <span class="info-title">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</span>
                    <button type="button" class="info-toggle" id="infoToggle">‚ñº</button>
                </div>
                <div class="info-panel-content" id="infoContent" style="display: none;">
                    <ul>
                        <li>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –≤–∏–¥–µ–æ —Å –ª–∏—Ü–∞–º–∏ (—Ñ–∞–π–ª –∏–ª–∏ –ø–æ URL)</li>
                        <li>–ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –ª–∏—Ü–∞ –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö</li>
                        <li>–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∂–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ª–∏—Ü–æ –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º –∏–ª–∏ –¥–∏–ø—Ñ–µ–π–∫–æ–º</li>
                        <li>–ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏: –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–∫—Ü–∏–∏</li>
                        <li>–î–ª—è –≤–∏–¥–µ–æ: –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–¥—Ä–æ–≤ (5-25) –∏ —Ä–µ–∂–∏–º –æ–±—Ä–∞–±–æ—Ç–∫–∏</li>
                        <li>–†–µ–∂–∏–º—ã: ‚ö° –ë—ã—Å—Ç—Ä–æ (–∫–∞–∂–¥—ã–π 5-–π –∫–∞–¥—Ä) –∏–ª–∏ üéØ –¢–æ—á–Ω–æ (–≤—Å–µ –∫–∞–¥—Ä—ã)</li>
                        <li>–¢–µ–ø–ª–æ–∫–∞—Ä—Ç—ã: –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–∏–ø—Ñ–µ–π–∫–æ–≤, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é—Ç –æ–±–ª–∞—Å—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏—è –º–æ–¥–µ–ª–∏</li>
                        <li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPEG, PNG, MP4, AVI, MOV</li>
                        <li>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 100 –ú–ë</li>
                    </ul>
                </div>
            </div>

            <div id="progress">
                <span class="progress-text" id="progressText">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è...</span>
                <div class="spinner"></div>
                <div id="progressBarContainer" class="progress-bar-container" style="display: none;">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
            </div>

            <div id="result"></div>
            
            <!-- –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
            <button type="button" id="clearResults" class="clear-results-btn" style="display: none;">
                üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
    <div id="imageModal" class="image-modal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close" id="modalClose">‚úï</button>
            <img id="modalImage" src="" alt="–£–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
            <div class="modal-info" id="modalInfo"></div>
        </div>
    </div>

    <script src="/static/js/main.js"></script>
</body>
</html>